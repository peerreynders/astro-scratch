---
// file: src/pages/blog/post/[...slug].astro
import type { CollectionEntry } from 'astro:content';
import { makeTagPairs } from '../../../lib/helpers';
import { fromPostsToStaticPaths } from '../../../lib/collections';
import Post from '../../../layouts/Post.astro';

export const getStaticPaths = fromPostsToStaticPaths;

interface Props {
	entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props;
const postArgs = {
	title: entry.data.title,
	date: entry.data.date,
	tags: makeTagPairs(entry.data.tags),
};
const { Content } = await entry.render();
---

<Post args={postArgs}>
	<Content />
</Post>
